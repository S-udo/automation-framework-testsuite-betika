# cypress-automation-framework-betika

Cypress test automation framework built with JavaScript (JS) that follows the Page Object Model (POM) design pattern to implement the UI tests for Betika betting platform as part of technical assessment criteria.

## Features üí°

* Atomic and Independent test cases
* Robust Locator strategies to target elements
* Hooks to perform the repeated steps for all the tests inside spec
* Loading test data from external fixtures files i.e. JSON
* Loading environment specific configuration and environment variables per environment i.e. dev, stage, prod
* Ability to filter and run tests with specific tags i.e. regression, smoke
* Pass browser and mode as environment variable
* Configure routes (URL endpoints) in a constant config file
* Usage of OOP Inheritance to extend all the pages from BasePage
* Multiple reporters configuration (JUnit XML, cpress-mochawesome-reporter HTML) 
* Continuous Integration CI with Jenkins 


## Setup üõ†Ô∏è

### Pre-requisites

* Install NodeJS and NPM pakcage manager.
* Code Editor of your choice e.g. Visual Studio Code
* GIT Client (for remote tracking)
* GIT Bash terminal (for Windows)

### Setingup to use this framework

* Clone git repo
* Navigate to folder and open terminal
* Run `npm install` to install the framework dependencies

## Configurarion ‚öôÔ∏è

* Project specific constants are defined under `cypress/config/constants.js`
* URL routes for pages are defined under `cypress/config/routes.js`. This allows to open the page directly by calling the `open()` method of page.
* Environment specific Cypress settings are placed inside JSON files per enironment in `settings/{environmentName}.settings.json` file. This allows to load separaete settings per environment.

---

## Running tests ‚ö°

* `npx cypress open` will open the cypress test runner so you can run the tests from it
* `npx cypress run` will run all the test spec files located within `cypress/e2e` folder. By default test are run in headless mode on electron browser.
* If you want to run test on specific browser, you can provide with `--browser` argument like `--browser chrome`.
* To run tests in headed mode, pass argument `--headed`
* To run a specific test spec, use the following cmd syntax:
  `npx cypress run --spec (test spec path) --headed --browser chrome` will run the tests from AddToCartTest spec on chrome browser in headed mode.
* Following custom test scripts are setup in `package.json` to run specific test suites in headless format:
  * `npm run test:registration`
  * `npm run test:login`
  * `npm run test:addOddsToSlip`
  * `npm run test:addToCart`
  * `npm run test:MyBetPageTest`
* To run the tests on any specific browser in headed mode:
  * For example, `npm run test:login -- --env grepTags="@smoke" --headed --browser chrome` will run the smoke tests from login spec on chrome browser in headed mode

## Test Reporting üìë

* HTML Reports are generated by default in `root/cypress/reports` folder.
* It embeds the screenshots of tests on failure automatically to the report, and also attaches the videos to report. 
* It also allows the customization of report with better control of how and where report is generated
  
* If a test case is failed, then the assertion error, screenshot and video gets attached to report automatically. 
  * When a test retries, Cypress will continue to take screenshots for each failed attempt or cy.screenshot() and suffix each new screenshot with (attempt n), corresponding to the current retry attempt number.

## Continuous Integration CI üöÄ

The Project is configured to run Cypress in Continuous Integration with Jenkins.
